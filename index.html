<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="EduNet19 - La piattaforma educativa che connette scuole per condividere progetti didattici e metodologie innovative">
    <meta name="keywords"
        content="educazione, scuole, progetti didattici, collaborazione, istituti scolastici, rete educativa">
    <meta name="author" content="EduNet19">

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https:; connect-src 'self' https://*.supabase.co wss://*.supabase.co https://cdn.jsdelivr.net;">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://edunet19.it/">
    <meta property="og:title" content="EduNet19 - Piattaforma Educativa per Scuole">
    <meta property="og:description"
        content="Connetti la tua scuola al futuro dell'educazione. Condividi progetti, metodologie e collabora con istituti educativi.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://edunet19.it/">
    <meta property="twitter:title" content="EduNet19 - Piattaforma Educativa per Scuole">
    <meta property="twitter:description"
        content="Connetti la tua scuola al futuro dell'educazione. Condividi progetti, metodologie e collabora con istituti educativi.">

    <title>EduNet19 - Piattaforma Educativa per Scuole</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/x-icon" href="favicon.ico">

    <!-- Preconnect per performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/components/institute-autocomplete.css">
    <link rel="stylesheet" href="css/components/miur-preview.css?v=3">
    <link rel="stylesheet" href="css/components/dark-theme-fixes.css">
    <link rel="stylesheet" href="css/components/landing-dark-theme.css">
    <link rel="stylesheet" href="css/components/auth-modal-dark-theme.css">
    <link rel="stylesheet" href="css/components/auth-notifications.css">
    <link rel="stylesheet" href="css/components/landing-enhanced.css">

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>

    <!-- Core Scripts -->
    <script src="js/utils/console-optimizer.js"></script>
    <script src="js/utils/logger.js" defer></script>
    <script src="js/utils/rate-limiter.js" defer></script>
    <script src="js/utils/sanitizer.js" defer></script>
    <script src="js/utils/network-utils.js" defer></script>
    <script src="js/utils/event-manager.js" defer></script>
    <script src="config.js" defer></script>
    <script src="js/utils/error-handling.js" defer></script>
    <script src="js/utils/supabase-error-handler.js" defer></script>
    <script src="supabase-client.js" defer></script>
    <script src="js/auth/validation.js" defer></script>
    <script src="js/auth/age-verification.js" defer></script>
    <script src="js/utils/codice-fiscale-validator.js" defer></script>
    <script src="js/auth/cf-form-validation.js" defer></script>
    <script src="js/utils/miur-autocomplete.js" defer></script>
    <script src="js/auth/registration-miur.js" defer></script>
    <script src="js/auth/auth.js?v=final" defer></script>
    <script src="js/auth/password-reset.js" defer></script>
    <script src="js/profile/profile-management.js" defer></script>
    <script src="js/utils/institute-autocomplete.js" defer></script>
    <script src="script.js" defer></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('./sw.js')
                    .then(function (registration) {
                        console.log('✅ Service Worker registrato:', registration.scope);
                    })
                    .catch(function (error) {
                        console.log('⚠️ Service Worker non registrato:', error);
                    });
            });
        }
    </script>
</head>

<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Vai al contenuto principale</a>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen" aria-hidden="true">
        <div class="loading-content">
            <div class="loading-logo">
                <i class="fas fa-graduation-cap" aria-hidden="true"></i>
                <span>EduNet19</span>
            </div>
            <div class="loading-spinner" aria-label="Caricamento in corso"></div>
            <p class="loading-text">Caricamento...</p>
        </div>
    </div>

    <!-- Header -->
    <header class="header" role="banner">
        <nav class="nav" role="navigation" aria-label="Navigazione principale">
            <div class="nav-container">
                <div class="nav-brand">
                    <a href="#" class="logo" aria-label="EduNet19 - Torna alla home">
                        <i class="fas fa-graduation-cap" aria-hidden="true"></i>
                        <span>EduNet19</span>
                    </a>
                </div>

                <div class="nav-actions">
                    <button class="btn btn-outline" onclick="openModal('login')" aria-label="Accedi al tuo account">
                        <i class="fas fa-sign-in-alt" aria-hidden="true"></i>
                        <span>Accedi</span>
                    </button>
                    <button class="btn btn-primary" onclick="openModal('register')"
                        aria-label="Registra un nuovo account">
                        <i class="fas fa-user-plus" aria-hidden="true"></i>
                        <span>Registrati</span>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main" role="main">
        <!-- Hero Section -->
        <section class="hero" aria-labelledby="hero-title">
            <div class="hero-background" aria-hidden="true">
                <div class="hero-particles"></div>
                <div class="hero-gradient"></div>
                <div class="hero-shapes">
                    <div class="shape shape-1"></div>
                    <div class="shape shape-2"></div>
                    <div class="shape shape-3"></div>
                </div>
            </div>

            <div class="hero-container">
                <div class="hero-content">
                    <div class="hero-badge">
                        <i class="fas fa-sparkles" aria-hidden="true"></i>
                        <span>La Rete Educativa Italiana</span>
                    </div>

                    <h1 id="hero-title" class="hero-title">
                        Connetti la tua scuola al
                        <span class="hero-highlight">futuro dell'educazione</span>
                    </h1>

                    <p class="hero-subtitle">
                        EduNet19 è la piattaforma digitale che unisce scuole di ogni ordine e grado
                        per condividere progetti didattici innovativi, metodologie educative efficaci
                        e creare collaborazioni significative tra istituti.
                    </p>

                    <div class="hero-actions">
                        <button class="btn btn-primary btn-large btn-glow" onclick="openModal('register')"
                            aria-label="Registrati gratuitamente">
                            <i class="fas fa-rocket" aria-hidden="true"></i>
                            <span>Inizia Gratuitamente</span>
                        </button>
                        <button class="btn btn-secondary btn-large" onclick="scrollToSection('how-it-works')"
                            aria-label="Scopri come funziona">
                            <i class="fas fa-play-circle" aria-hidden="true"></i>
                            <span>Scopri Come Funziona</span>
                        </button>
                    </div>

                    <div class="hero-trust">
                        <span class="trust-label">Pensato per:</span>
                        <div class="trust-badges">
                            <span class="trust-badge"><i class="fas fa-child"></i> Infanzia</span>
                            <span class="trust-badge"><i class="fas fa-book-reader"></i> Primaria</span>
                            <span class="trust-badge"><i class="fas fa-school"></i> Secondaria</span>
                            <span class="trust-badge"><i class="fas fa-university"></i> Università</span>
                        </div>
                    </div>
                </div>

                <div class="hero-visual" aria-hidden="true">
                    <div class="hero-illustration">
                        <div class="illustration-card card-1">
                            <i class="fas fa-lightbulb"></i>
                            <span>Progetti Innovativi</span>
                        </div>
                        <div class="illustration-card card-2">
                            <i class="fas fa-users"></i>
                            <span>Collaborazione</span>
                        </div>
                        <div class="illustration-card card-3">
                            <i class="fas fa-chart-line"></i>
                            <span>Crescita Continua</span>
                        </div>
                        <div class="illustration-center">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="stats-section" aria-label="Statistiche piattaforma">
            <div class="container">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-school"></i></div>
                        <div class="stat-number" data-count="∞">∞</div>
                        <div class="stat-label">Istituti Connessi</div>
                        <div class="stat-sublabel">In tutta Italia</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-project-diagram"></i></div>
                        <div class="stat-number" data-count="∞">∞</div>
                        <div class="stat-label">Progetti Condivisi</div>
                        <div class="stat-sublabel">Didattici e innovativi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-handshake"></i></div>
                        <div class="stat-number" data-count="∞">∞</div>
                        <div class="stat-label">Collaborazioni</div>
                        <div class="stat-sublabel">Tra scuole diverse</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-star"></i></div>
                        <div class="stat-number" data-count="∞">∞</div>
                        <div class="stat-label">Opportunità</div>
                        <div class="stat-sublabel">Di crescita educativa</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section id="how-it-works" class="how-it-works" aria-labelledby="how-title">
            <div class="container">
                <div class="section-header centered">
                    <span class="section-badge">Come Funziona</span>
                    <h2 id="how-title" class="section-title">
                        Tre semplici passi per iniziare
                    </h2>
                    <p class="section-subtitle">
                        Unisciti alla rete educativa più innovativa d'Italia in pochi minuti
                    </p>
                </div>

                <div class="steps-container">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <div class="step-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3 class="step-title">Registrati</h3>
                        <p class="step-description">
                            Crea il tuo account come istituto scolastico o utente privato.
                            Per le scuole, basta il codice meccanografico MIUR per compilare automaticamente i dati.
                        </p>
                    </div>

                    <div class="step-connector" aria-hidden="true">
                        <i class="fas fa-arrow-right"></i>
                    </div>

                    <div class="step-card">
                        <div class="step-number">2</div>
                        <div class="step-icon">
                            <i class="fas fa-share-alt"></i>
                        </div>
                        <h3 class="step-title">Condividi</h3>
                        <p class="step-description">
                            Pubblica i tuoi progetti didattici, metodologie innovative ed esperienze educative.
                            Ispira e lasciati ispirare dalla community.
                        </p>
                    </div>

                    <div class="step-connector" aria-hidden="true">
                        <i class="fas fa-arrow-right"></i>
                    </div>

                    <div class="step-card">
                        <div class="step-number">3</div>
                        <div class="step-icon">
                            <i class="fas fa-hands-helping"></i>
                        </div>
                        <h3 class="step-title">Collabora</h3>
                        <p class="step-description">
                            Trova istituti con interessi simili grazie a EduMatch, il nostro algoritmo intelligente.
                            Avvia collaborazioni e progetti congiunti.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features" aria-labelledby="features-title">
            <div class="container">
                <div class="section-header centered">
                    <span class="section-badge">Funzionalità</span>
                    <h2 id="features-title" class="section-title">
                        Una piattaforma, infinite possibilità
                    </h2>
                    <p class="section-subtitle">
                        Scopri tutti gli strumenti che EduNet19 mette a disposizione per trasformare l'educazione
                    </p>
                </div>

                <div class="features-grid">
                    <article class="feature-card feature-card-large" tabindex="0">
                        <div class="feature-icon feature-icon-primary">
                            <i class="fas fa-school" aria-hidden="true"></i>
                        </div>
                        <div class="feature-badge">Per Istituti</div>
                        <h3 class="feature-title">Gestione Completa per Scuole</h3>
                        <p class="feature-description">
                            Pubblica progetti innovativi, condividi metodologie didattiche efficaci e collabora
                            con altre scuole per creare una rete educativa integrata e dinamica.
                        </p>
                        <ul class="feature-list">
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Pubblicazione progetti didattici
                            </li>
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Condivisione metodologie</li>
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Gestione multi-amministratore
                            </li>
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Statistiche e analytics</li>
                        </ul>
                    </article>

                    <article class="feature-card feature-card-large" tabindex="0">
                        <div class="feature-icon feature-icon-secondary">
                            <i class="fas fa-users" aria-hidden="true"></i>
                        </div>
                        <div class="feature-badge">Per Utenti</div>
                        <h3 class="feature-title">Esplora e Partecipa</h3>
                        <p class="feature-description">
                            Segui gli istituti di tuo interesse, valuta i contenuti educativi e resta sempre
                            aggiornato sulle innovazioni nel mondo della scuola italiana.
                        </p>
                        <ul class="feature-list">
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Seguire scuole preferite</li>
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Valutare e commentare progetti
                            </li>
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Ricevere aggiornamenti
                                personalizzati</li>
                            <li><i class="fas fa-check-circle" aria-hidden="true"></i> Salvare contenuti interessanti
                            </li>
                        </ul>
                    </article>
                </div>

                <div class="features-secondary-grid">
                    <article class="feature-card-mini" tabindex="0">
                        <div class="feature-mini-icon">
                            <i class="fas fa-magic" aria-hidden="true"></i>
                        </div>
                        <h4 class="feature-mini-title">EduMatch</h4>
                        <p class="feature-mini-desc">Algoritmo intelligente per trovare scuole compatibili</p>
                    </article>

                    <article class="feature-card-mini" tabindex="0">
                        <div class="feature-mini-icon">
                            <i class="fas fa-shield-alt" aria-hidden="true"></i>
                        </div>
                        <h4 class="feature-mini-title">Sicurezza GDPR</h4>
                        <p class="feature-mini-desc">Dati protetti secondo le normative europee</p>
                    </article>

                    <article class="feature-card-mini" tabindex="0">
                        <div class="feature-mini-icon">
                            <i class="fas fa-mobile-alt" aria-hidden="true"></i>
                        </div>
                        <h4 class="feature-mini-title">Responsive</h4>
                        <p class="feature-mini-desc">Accessibile da qualsiasi dispositivo</p>
                    </article>

                    <article class="feature-card-mini" tabindex="0">
                        <div class="feature-mini-icon">
                            <i class="fas fa-database" aria-hidden="true"></i>
                        </div>
                        <h4 class="feature-mini-title">Database MIUR</h4>
                        <p class="feature-mini-desc">Integrazione con l'anagrafe scolastica italiana</p>
                    </article>
                </div>
            </div>
        </section>

        <!-- Benefits Section -->
        <section class="benefits" aria-labelledby="benefits-title">
            <div class="container">
                <div class="benefits-content">
                    <div class="benefits-text">
                        <span class="section-badge">Perché EduNet19</span>
                        <h2 id="benefits-title" class="section-title">
                            La piattaforma pensata per l'eccellenza educativa
                        </h2>
                        <p class="section-subtitle">
                            Progettata con e per gli educatori italiani, EduNet19 offre tutto ciò che serve
                            per innovare la didattica e creare connessioni significative.
                        </p>

                        <div class="benefits-list">
                            <div class="benefit-item">
                                <div class="benefit-icon">
                                    <i class="fas fa-lock" aria-hidden="true"></i>
                                </div>
                                <div class="benefit-content">
                                    <h3>Sicurezza e Privacy</h3>
                                    <p>Dati protetti secondo le normative GDPR, con crittografia avanzata,
                                        verifica dell'età e controlli di accesso rigorosi per la tutela dei minori.</p>
                                </div>
                            </div>

                            <div class="benefit-item">
                                <div class="benefit-icon">
                                    <i class="fas fa-bolt" aria-hidden="true"></i>
                                </div>
                                <div class="benefit-content">
                                    <h3>Veloce e Intuitivo</h3>
                                    <p>Interfaccia moderna e reattiva, progettata per essere usata senza
                                        alcuna competenza tecnica. Registrazione in meno di 2 minuti.</p>
                                </div>
                            </div>

                            <div class="benefit-item">
                                <div class="benefit-icon">
                                    <i class="fas fa-heart" aria-hidden="true"></i>
                                </div>
                                <div class="benefit-content">
                                    <h3>100% Gratuito</h3>
                                    <p>Nessun costo nascosto, nessun abbonamento. EduNet19 è completamente
                                        gratuito per tutte le scuole e gli utenti privati.</p>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary btn-large" onclick="openModal('register')"
                            style="margin-top: 2rem;">
                            <i class="fas fa-arrow-right" aria-hidden="true"></i>
                            <span>Unisciti Ora</span>
                        </button>
                    </div>

                    <div class="benefits-visual" aria-hidden="true">
                        <div class="benefits-graphic">
                            <div class="graphic-ring ring-1"></div>
                            <div class="graphic-ring ring-2"></div>
                            <div class="graphic-ring ring-3"></div>
                            <div class="graphic-center">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div class="graphic-orbit orbit-1">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="graphic-orbit orbit-2">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="graphic-orbit orbit-3">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section" aria-labelledby="cta-title">
            <div class="container">
                <div class="cta-content">
                    <div class="cta-icon">
                        <i class="fas fa-rocket" aria-hidden="true"></i>
                    </div>
                    <h2 id="cta-title" class="cta-title">
                        Pronto a trasformare l'educazione?
                    </h2>
                    <p class="cta-subtitle">
                        Unisciti a EduNet19 oggi stesso e inizia a condividere, collaborare e innovare
                        insieme a migliaia di educatori in tutta Italia.
                    </p>
                    <div class="cta-actions">
                        <button class="btn btn-white btn-large btn-glow" onclick="openModal('register')">
                            <i class="fas fa-user-plus" aria-hidden="true"></i>
                            <span>Registrati Gratis</span>
                        </button>
                        <button class="btn btn-outline-white btn-large" onclick="openModal('login')">
                            <i class="fas fa-sign-in-alt" aria-hidden="true"></i>
                            <span>Accedi</span>
                        </button>
                    </div>
                    <p class="cta-note">
                        <i class="fas fa-check-circle" aria-hidden="true"></i>
                        Nessuna carta di credito richiesta • Registrazione in 2 minuti
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="modal" role="dialog" aria-labelledby="login-title">
        <div class="modal-backdrop" onclick="closeModal('login')"></div>
        <div class="modal-container">
            <div class="modal-content">
                <header class="modal-header">
                    <h2 id="login-title" class="modal-title">
                        <i class="fas fa-sign-in-alt" aria-hidden="true"></i>
                        Accedi a EduNet19
                    </h2>
                    <button class="modal-close" onclick="closeModal('login')" aria-label="Chiudi finestra di accesso">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </header>

                <div class="modal-body">
                    <form id="loginForm" class="auth-form" novalidate>
                        <div class="form-group">
                            <label for="loginEmail" class="form-label">Email</label>
                            <div class="input-group">
                                <i class="fas fa-envelope input-icon" aria-hidden="true"></i>
                                <input type="email" id="loginEmail" name="email" class="form-input"
                                    placeholder="inserisci@tuaemail.com" autocomplete="email" data-validate="email"
                                    required aria-describedby="loginEmail-error">
                            </div>
                            <div id="loginEmail-error" class="form-error" role="alert"></div>
                        </div>

                        <div class="form-group">
                            <label for="loginPassword" class="form-label">Password</label>
                            <div class="input-group">
                                <i class="fas fa-lock input-icon" aria-hidden="true"></i>
                                <input type="password" id="loginPassword" name="password" class="form-input"
                                    placeholder="Inserisci la tua password" autocomplete="current-password"
                                    data-validate="password" required aria-describedby="loginPassword-error">
                                <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')"
                                    aria-label="Mostra/nascondi password">
                                    <i class="fas fa-eye" aria-hidden="true"></i>
                                </button>
                            </div>
                            <div id="loginPassword-error" class="form-error" role="alert"></div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-full btn-large">
                            <i class="fas fa-sign-in-alt" aria-hidden="true"></i>
                            <span>Accedi</span>
                        </button>

                        <div class="form-links">
                            <a href="#" id="forgotPasswordLink" class="link-secondary">
                                <i class="fas fa-key" aria-hidden="true"></i>
                                Password dimenticata?
                            </a>
                        </div>
                    </form>
                </div>

                <footer class="modal-footer">
                    <p class="modal-switch">
                        Non hai un account?
                        <a href="#" onclick="switchModal('login', 'register')" class="link-primary">
                            Registrati qui
                        </a>
                    </p>
                </footer>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal" role="dialog" aria-labelledby="register-title">
        <div class="modal-backdrop" onclick="closeModal('register')"></div>
        <div class="modal-container">
            <div class="modal-content">
                <header class="modal-header">
                    <h2 id="register-title" class="modal-title">
                        <i class="fas fa-user-plus" aria-hidden="true"></i>
                        Registrati su EduNet19
                    </h2>
                    <button class="modal-close" onclick="closeModal('register')"
                        aria-label="Chiudi finestra di registrazione">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </header>

                <div class="modal-body">
                    <!-- User Type Selection -->
                    <div class="user-type-selection">
                        <h3 class="selection-title">Seleziona il tipo di account:</h3>
                        <div class="user-type-grid">
                            <button type="button" class="user-type-card" onclick="selectUserType('institute')"
                                aria-describedby="institute-desc">
                                <div class="user-type-icon">
                                    <i class="fas fa-school" aria-hidden="true"></i>
                                </div>
                                <h4 class="user-type-title">Istituto Scolastico</h4>
                                <p id="institute-desc" class="user-type-desc">Scuole dell'Infanzia, Primarie, Secondarie
                                    (Medie e Superiori), Università e ITS</p>
                            </button>

                            <button type="button" class="user-type-card" onclick="selectUserType('private')"
                                aria-describedby="private-desc">
                                <div class="user-type-icon">
                                    <i class="fas fa-user" aria-hidden="true"></i>
                                </div>
                                <h4 class="user-type-title">Utente Privato</h4>
                                <p id="private-desc" class="user-type-desc">Persona fisica interessata all'educazione
                                </p>
                            </button>
                        </div>
                    </div>

                    <!-- Institute Registration Form -->
                    <form id="instituteForm" class="auth-form registration-form" style="display: none;" novalidate>
                        <div class="form-header">
                            <h3 class="form-title">
                                <i class="fas fa-school" aria-hidden="true"></i>
                                Registrazione Istituto
                            </h3>
                        </div>

                        <!-- Codice Meccanografico MIUR -->
                        <div class="form-info-box" style="background: #e3f2fd; border-color: #2196f3;">
                            <i class="fas fa-info-circle" style="color: #2196f3;"></i>
                            <p>Inserisci il <strong>Codice Meccanografico</strong> del tuo istituto per compilare
                                automaticamente i dati dal database MIUR.</p>
                        </div>

                        <div class="form-group">
                            <label for="instituteCode" class="form-label">Codice Meccanografico MIUR *</label>
                            <div class="input-group">
                                <i class="fas fa-barcode input-icon" aria-hidden="true"></i>
                                <input type="text" id="instituteCode" name="instituteCode" class="form-input"
                                    placeholder="Es. TNIC82000X" autocomplete="off" required
                                    aria-describedby="instituteCode-error" style="text-transform: uppercase;">
                                <button type="button" class="btn-icon" id="searchMiurBtn"
                                    title="Cerca nel database MIUR">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                            <div id="instituteCode-error" class="form-error" role="alert"></div>
                            <div id="instituteCode-success" class="form-success" role="alert" style="display: none;">
                                <i class="fas fa-check-circle"></i>
                                <span>Istituto trovato nel database MIUR!</span>
                            </div>
                        </div>

                        <!-- Anteprima Dati MIUR -->
                        <div id="miurPreview" class="miur-preview" style="display: none;">
                            <div class="miur-preview-header">
                                <i class="fas fa-database"></i>
                                <span>Dati dal Database MIUR</span>
                            </div>
                            <div class="miur-preview-content" id="miurPreviewContent">
                                <!-- Popolato dinamicamente -->
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="instituteName" class="form-label">Nome Istituto *</label>
                            <div class="input-group">
                                <i class="fas fa-building input-icon" aria-hidden="true"></i>
                                <input type="text" id="instituteName" name="instituteName" class="form-input"
                                    placeholder="Es. Liceo Scientifico Galilei" autocomplete="organization"
                                    data-validate="instituteName" required readonly
                                    aria-describedby="instituteName-error">
                            </div>
                            <div id="instituteName-error" class="form-error" role="alert"></div>
                        </div>

                        <div class="form-group">
                            <label for="instituteType" class="form-label">Tipo Istituto *</label>
                            <div class="input-group">
                                <i class="fas fa-graduation-cap input-icon" aria-hidden="true"></i>
                                <select id="instituteType" name="instituteType" class="form-select" autocomplete="off"
                                    data-validate="instituteType" required aria-describedby="instituteType-error">
                                    <option value="">Seleziona tipo istituto</option>
                                    <option value="Scuola Secondaria di I Grado">Scuola Secondaria di Primo Grado (11-14
                                        anni)</option>
                                    <option value="Scuola Secondaria di II Grado">Scuola Secondaria di Secondo Grado
                                        (14-19 anni)</option>
                                    <option value="Liceo">Liceo (14-19 anni)</option>
                                    <option value="Istituto Tecnico">Istituto Tecnico (14-19 anni)</option>
                                    <option value="Istituto Professionale">Istituto Professionale (14-19 anni)</option>
                                    <option value="ITS">Istituto Tecnico Superiore - ITS</option>
                                    <option value="Università">Università e Alta Formazione</option>
                                </select>
                            </div>
                            <div id="instituteType-error" class="form-error" role="alert"></div>
                        </div>

                        <!-- Sezione Dati Registrante -->
                        <div class="form-section-divider">
                            <span><i class="fas fa-user-tie"></i> Chi sta registrando l'istituto?</span>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="registrantName" class="form-label">Nome e Cognome *</label>
                                <div class="input-group">
                                    <i class="fas fa-user input-icon" aria-hidden="true"></i>
                                    <input type="text" id="registrantName" name="registrantName" class="form-input"
                                        placeholder="Es. Mario Rossi" autocomplete="name" required
                                        aria-describedby="registrantName-error">
                                </div>
                                <div id="registrantName-error" class="form-error" role="alert"></div>
                            </div>

                            <div class="form-group">
                                <label for="registrantRole" class="form-label">Ruolo nell'Istituto *</label>
                                <div class="input-group">
                                    <i class="fas fa-id-badge input-icon" aria-hidden="true"></i>
                                    <select id="registrantRole" name="registrantRole" class="form-select" required
                                        aria-describedby="registrantRole-error">
                                        <option value="">Seleziona il tuo ruolo</option>
                                        <option value="dirigente">Dirigente Scolastico</option>
                                        <option value="vicario">Collaboratore del Dirigente / Vicario</option>
                                        <option value="dsga">DSGA (Direttore Servizi Generali)</option>
                                        <option value="segreteria">Personale di Segreteria</option>
                                        <option value="docente">Docente</option>
                                        <option value="referente">Referente di Progetto</option>
                                        <option value="altro">Altro</option>
                                    </select>
                                </div>
                                <div id="registrantRole-error" class="form-error" role="alert"></div>
                            </div>
                        </div>

                        <!-- Sezione Email -->
                        <div class="form-section-divider">
                            <span><i class="fas fa-envelope"></i> Email</span>
                        </div>

                        <div class="form-group">
                            <label for="instituteEmail" class="form-label">La tua Email (per accedere) *</label>
                            <div class="input-group">
                                <i class="fas fa-envelope input-icon" aria-hidden="true"></i>
                                <input type="email" id="instituteEmail" name="email" class="form-input"
                                    placeholder="tuaemail@esempio.it" autocomplete="email" data-validate="email"
                                    required aria-describedby="instituteEmail-error">
                            </div>
                            <small class="form-hint">Questa email sarà usata per accedere al tuo account e ricevere
                                notifiche.</small>
                            <div id="instituteEmail-error" class="form-error" role="alert"></div>
                        </div>

                        <!-- Email MIUR (mostrata solo se diversa, readonly) -->
                        <div class="form-group" id="miurEmailGroup" style="display: none;">
                            <label for="miurEmailDisplay" class="form-label">
                                <i class="fas fa-shield-alt" style="color: #28a745;"></i>
                                Email Ufficiale MIUR (per verifica istituto)
                            </label>
                            <div class="input-group">
                                <i class="fas fa-university input-icon" aria-hidden="true"></i>
                                <input type="email" id="miurEmailDisplay" class="form-input" readonly
                                    aria-describedby="miurEmail-info">
                            </div>
                            <small id="miurEmail-info" class="form-hint form-hint-success">
                                <i class="fas fa-info-circle"></i>
                                Invieremo una richiesta di conferma a questa email per verificare l'istituto.
                            </small>
                        </div>

                        <!-- Campi hidden per dati istituto dall'autocomplete -->
                        <input type="hidden" id="institute-email-hidden" name="instituteEmailMiur">
                        <input type="hidden" id="institute-address-hidden" name="instituteAddress">
                        <input type="hidden" id="institute-city-hidden" name="instituteCity">
                        <input type="hidden" id="institute-province-hidden" name="instituteProvince">
                        <input type="hidden" id="institute-website-hidden" name="instituteWebsite">
                        <input type="hidden" id="institute-phone-hidden" name="institutePhone">
                        <input type="hidden" id="institute-code-hidden" name="instituteCodeMiur">

                        <!-- Sezione Password -->
                        <div class="form-section-divider">
                            <span><i class="fas fa-lock"></i> Sicurezza</span>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="institutePassword" class="form-label">Password *</label>
                                <div class="input-group">
                                    <i class="fas fa-lock input-icon" aria-hidden="true"></i>
                                    <input type="password" id="institutePassword" name="password" class="form-input"
                                        placeholder="Crea una password sicura" autocomplete="new-password"
                                        data-validate="password" required aria-describedby="institutePassword-error">
                                    <button type="button" class="password-toggle"
                                        onclick="togglePassword('institutePassword')"
                                        aria-label="Mostra/nascondi password">
                                        <i class="fas fa-eye" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="institutePassword-error" class="form-error" role="alert"></div>
                            </div>

                            <div class="form-group">
                                <label for="confirmInstitutePassword" class="form-label">Conferma Password *</label>
                                <div class="input-group">
                                    <i class="fas fa-lock input-icon" aria-hidden="true"></i>
                                    <input type="password" id="confirmInstitutePassword" name="confirmPassword"
                                        class="form-input" placeholder="Ripeti la password" autocomplete="new-password"
                                        data-validate="confirmPassword" required
                                        aria-describedby="confirmInstitutePassword-error">
                                    <button type="button" class="password-toggle"
                                        onclick="togglePassword('confirmInstitutePassword')"
                                        aria-label="Mostra/nascondi password">
                                        <i class="fas fa-eye" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="confirmInstitutePassword-error" class="form-error" role="alert"></div>
                            </div>
                        </div>

                        <!-- Info verifica -->
                        <div class="form-info-box verification-info"
                            style="background: #fff3cd; border-color: #ffc107; margin-top: 1rem;">
                            <i class="fas fa-exclamation-triangle" style="color: #856404;"></i>
                            <div>
                                <strong>Come funziona la verifica?</strong>
                                <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem;">
                                    Dopo la registrazione, invieremo un'email all'indirizzo ufficiale MIUR dell'istituto
                                    per confermare che la registrazione è autorizzata. L'account sarà attivo con
                                    funzionalità limitate fino alla verifica.
                                </p>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-full btn-large">
                            <i class="fas fa-school" aria-hidden="true"></i>
                            <span>Registra Istituto</span>
                        </button>
                    </form>

                    <!-- Private User Registration Form -->
                    <form id="privateForm" class="auth-form registration-form" style="display: none;" novalidate>
                        <div class="form-header">
                            <h3 class="form-title">
                                <i class="fas fa-user" aria-hidden="true"></i>
                                Registrazione Utente Privato
                            </h3>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName" class="form-label">Nome *</label>
                                <div class="input-group">
                                    <i class="fas fa-user input-icon" aria-hidden="true"></i>
                                    <input type="text" id="firstName" name="firstName" class="form-input"
                                        placeholder="Il tuo nome" autocomplete="given-name" data-validate="firstName"
                                        required aria-describedby="firstName-error">
                                </div>
                                <div id="firstName-error" class="form-error" role="alert"></div>
                            </div>

                            <div class="form-group">
                                <label for="lastName" class="form-label">Cognome *</label>
                                <div class="input-group">
                                    <i class="fas fa-user input-icon" aria-hidden="true"></i>
                                    <input type="text" id="lastName" name="lastName" class="form-input"
                                        placeholder="Il tuo cognome" autocomplete="family-name" data-validate="lastName"
                                        required aria-describedby="lastName-error">
                                </div>
                                <div id="lastName-error" class="form-error" role="alert"></div>
                            </div>
                        </div>

                        <!-- Data di Nascita -->
                        <div class="form-group">
                            <label for="birthDate" class="form-label">Data di Nascita *</label>
                            <div class="input-group">
                                <i class="fas fa-calendar-alt input-icon" aria-hidden="true"></i>
                                <input type="date" id="birthDate" name="birthDate" class="form-input" required
                                    aria-describedby="birthDate-error birthDate-info">
                            </div>
                            <div id="birthDate-info" class="form-hint">
                                <i class="fas fa-info-circle"></i>
                                Devi avere almeno 14 anni per registrarti. Per utenti tra 14 e 16 anni è richiesto il
                                consenso di un genitore.
                            </div>
                            <div id="birthDate-error" class="form-error" role="alert"></div>
                        </div>

                        <!-- Codice Fiscale -->
                        <div class="form-group">
                            <label for="codiceFiscale" class="form-label">Codice Fiscale *</label>
                            <div class="input-group">
                                <i class="fas fa-id-card input-icon" aria-hidden="true"></i>
                                <input type="text" id="codiceFiscale" name="codiceFiscale" class="form-input"
                                    placeholder="RSSMRA85M01H501Z" maxlength="16" style="text-transform: uppercase;"
                                    required aria-describedby="codiceFiscale-error codiceFiscale-info">
                            </div>
                            <div id="codiceFiscale-info" class="form-hint">
                                <i class="fas fa-shield-alt"></i>
                                Il codice fiscale viene utilizzato per verificare la tua identità e la tua età reale.
                            </div>
                            <div id="codiceFiscale-error" class="form-error" role="alert"></div>
                        </div>

                        <!-- Sezione Consenso Parentale (visibile solo per 14-16 anni) -->
                        <div id="parentalConsentSection" class="parental-consent-section" style="display: none;">
                            <div class="form-info-box" style="background: #fff3e0; border-color: #ff9800;">
                                <i class="fas fa-exclamation-triangle" style="color: #ff9800;"></i>
                                <p><strong>Consenso Parentale Richiesto</strong><br>
                                    Hai meno di 16 anni. Per completare la registrazione, un genitore o tutore legale
                                    dovrà confermare il consenso via email.</p>
                            </div>

                            <div class="form-group">
                                <label for="parentEmail" class="form-label">Email Genitore/Tutore *</label>
                                <div class="input-group">
                                    <i class="fas fa-user-shield input-icon" aria-hidden="true"></i>
                                    <input type="email" id="parentEmail" name="parentEmail" class="form-input"
                                        placeholder="email.genitore@esempio.com" aria-describedby="parentEmail-error">
                                </div>
                                <div id="parentEmail-error" class="form-error" role="alert"></div>
                            </div>

                            <div class="form-group">
                                <label for="parentName" class="form-label">Nome Genitore/Tutore *</label>
                                <div class="input-group">
                                    <i class="fas fa-user input-icon" aria-hidden="true"></i>
                                    <input type="text" id="parentName" name="parentName" class="form-input"
                                        placeholder="Nome e cognome del genitore" aria-describedby="parentName-error">
                                </div>
                                <div id="parentName-error" class="form-error" role="alert"></div>
                            </div>
                        </div>

                        <!-- Checkbox consenso 16-18 anni -->
                        <div id="minorConsentSection" class="minor-consent-section" style="display: none;">
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="minorConsent" name="minorConsent">
                                    <span class="checkbox-custom"></span>
                                    <span class="checkbox-text">
                                        Dichiaro di avere il consenso dei miei genitori/tutori per la registrazione su
                                        questa piattaforma,
                                        come previsto dall'art. 8 del GDPR e dalla normativa italiana sulla protezione
                                        dei minori online.
                                    </span>
                                </label>
                                <div id="minorConsent-error" class="form-error" role="alert"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="privateEmail" class="form-label">Email *</label>
                            <div class="input-group">
                                <i class="fas fa-envelope input-icon" aria-hidden="true"></i>
                                <input type="email" id="privateEmail" name="email" class="form-input"
                                    placeholder="tuaemail@esempio.com" autocomplete="email" data-validate="email"
                                    required aria-describedby="privateEmail-error">
                            </div>
                            <div id="privateEmail-error" class="form-error" role="alert"></div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="privatePassword" class="form-label">Password *</label>
                                <div class="input-group">
                                    <i class="fas fa-lock input-icon" aria-hidden="true"></i>
                                    <input type="password" id="privatePassword" name="password" class="form-input"
                                        placeholder="Crea una password sicura" autocomplete="new-password"
                                        data-validate="password" required aria-describedby="privatePassword-error">
                                    <button type="button" class="password-toggle"
                                        onclick="togglePassword('privatePassword')"
                                        aria-label="Mostra/nascondi password">
                                        <i class="fas fa-eye" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="privatePassword-error" class="form-error" role="alert"></div>
                            </div>

                            <div class="form-group">
                                <label for="confirmPrivatePassword" class="form-label">Conferma Password *</label>
                                <div class="input-group">
                                    <i class="fas fa-lock input-icon" aria-hidden="true"></i>
                                    <input type="password" id="confirmPrivatePassword" name="confirmPassword"
                                        class="form-input" placeholder="Ripeti la password" autocomplete="new-password"
                                        data-validate="confirmPassword" required
                                        aria-describedby="confirmPrivatePassword-error">
                                    <button type="button" class="password-toggle"
                                        onclick="togglePassword('confirmPrivatePassword')"
                                        aria-label="Mostra/nascondi password">
                                        <i class="fas fa-eye" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="confirmPrivatePassword-error" class="form-error" role="alert"></div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-full btn-large">
                            <i class="fas fa-user-plus" aria-hidden="true"></i>
                            <span>Registra Account</span>
                        </button>
                    </form>
                </div>

                <footer class="modal-footer">
                    <p class="modal-switch">
                        Hai già un account?
                        <a href="#" onclick="switchModal('register', 'login')" class="link-primary">
                            Accedi qui
                        </a>
                    </p>
                </footer>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal" role="dialog" aria-labelledby="forgot-title" aria-hidden="true">
        <div class="modal-backdrop" onclick="closeForgotPasswordModal()"></div>
        <div class="modal-container modal-small">
            <div class="modal-content">
                <header class="modal-header">
                    <h2 id="forgot-title" class="modal-title">
                        <i class="fas fa-key" aria-hidden="true"></i>
                        Reset Password
                    </h2>
                    <button class="modal-close" onclick="closeForgotPasswordModal()"
                        aria-label="Chiudi finestra reset password">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </header>

                <div class="modal-body">
                    <p class="modal-description">
                        Inserisci il tuo indirizzo email per ricevere le istruzioni per il reset della password.
                    </p>

                    <form id="forgotPasswordForm" class="auth-form" novalidate>
                        <div class="form-group">
                            <label for="forgotEmail" class="form-label">Email</label>
                            <div class="input-group">
                                <i class="fas fa-envelope input-icon" aria-hidden="true"></i>
                                <input type="email" id="forgotEmail" name="email" class="form-input"
                                    placeholder="inserisci@tuaemail.com" data-validate="email" required
                                    aria-describedby="forgotEmail-error">
                            </div>
                            <div id="forgotEmail-error" class="form-error" role="alert"></div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-full">
                            <i class="fas fa-paper-plane" aria-hidden="true"></i>
                            <span>Invia Email di Reset</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section footer-brand">
                    <p class="footer-description">
                        <strong>EduNet19</strong> - Connettendo l'educazione verso il futuro, una scuola alla volta.
                    </p>
                </div>

                <div class="footer-section">
                    <h4 class="footer-title">Piattaforma</h4>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Come funziona</a></li>
                        <li><a href="#" class="footer-link">Per le scuole</a></li>
                        <li><a href="#" class="footer-link">Per gli utenti</a></li>
                        <li><a href="#" class="footer-link">Prezzi</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4 class="footer-title">Supporto</h4>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Centro assistenza</a></li>
                        <li><a href="#" class="footer-link">Contattaci</a></li>
                        <li><a href="#" class="footer-link">Guide</a></li>
                        <li><a href="#" class="footer-link">FAQ</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4 class="footer-title">Legale</h4>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Privacy Policy</a></li>
                        <li><a href="#" class="footer-link">Termini di servizio</a></li>
                        <li><a href="#" class="footer-link">Cookie Policy</a></li>
                        <li><a href="#" class="footer-link">GDPR</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p class="footer-copyright">
                    &copy; 2024 EduNet19. Tutti i diritti riservati.
                </p>
                <p class="footer-made">
                    Fatto con <i class="fas fa-heart" aria-hidden="true"></i> per l'educazione
                </p>
            </div>
        </div>
    </footer>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container" aria-live="polite" aria-atomic="true"></div>
</body>

</html>