"use strict";!function(){if("undefined"==typeof RecommendationEngine||"undefined"==typeof RecommendationUI||"undefined"==typeof DiscoverManager)return void console.warn("âš ï¸ Recommendation system dependencies not loaded");console.log("ðŸŽ¯ Initializing recommendation system...");const e=setInterval(()=>{window.eduNetHomepage&&window.eduNetHomepage.isInitialized&&(clearInterval(e),o())},100);function o(){try{const e=window.eduNetHomepage;e.recommendationUI=new RecommendationUI(e),e.discoverManager=new DiscoverManager(e),e.discoverManager.init(e.recommendationUI);const o=e.switchFeedTab.bind(e);e.switchFeedTab=function(e){if(console.log("ðŸ”„ Switching to feed:",e),"discover"===e){const o=document.querySelectorAll(".primary-tab");o.forEach(o=>{const t=o.dataset.feed===e;o.classList.toggle("active",t),o.setAttribute("aria-selected",t)}),this.discoverManager&&this.discoverManager.renderDiscoverSection(),this.currentFeedType=e}else this.discoverManager&&this.discoverManager.hideDiscoverSection(),o(e),setTimeout(()=>{const e=document.getElementById("eduMatchSection");e&&(e.style.removeProperty("display"),console.log("âœ… EduMatch ripristinato dopo cambio tab"))},100)},setTimeout(()=>{const e=document.getElementById("eduMatchSection");e&&(e.style.removeProperty("display"),console.log("âœ… EduMatch visibile all'avvio"))},500);const t=e.renderFeed.bind(e);if(e.renderFeed=function(){t(),this.recommendationUI&&this.feedData&&this.feedData.forEach(e=>{e.id&&this.recommendationUI.trackActivity("post_view",e.id,"post")})},window.eduNetSocial&&window.eduNetSocial.toggleLike){const o=window.eduNetSocial.toggleLike.bind(window.eduNetSocial);window.eduNetSocial.toggleLike=async function(t,n){const i=await o(t,n);return i&&e.recommendationUI&&e.recommendationUI.trackActivity("post_like",t,"post"),i}}if(window.savedPostsManager&&window.savedPostsManager.toggleSave){const o=window.savedPostsManager.toggleSave.bind(window.savedPostsManager);window.savedPostsManager.toggleSave=async function(t){const n=await o(t);return n&&e.recommendationUI&&e.recommendationUI.trackActivity("post_save",t,"post"),n}}console.log("âœ… Recommendation system initialized successfully"),window.recommendationUI=e.recommendationUI,window.discoverManager=e.discoverManager}catch(e){console.error("âŒ Error setting up recommendation system:",e)}}setTimeout(()=>{clearInterval(e)},1e4)}();