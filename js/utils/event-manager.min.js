"use strict";class EventManager{constructor(){this.listeners=new Map,this.componentListeners=new Map,this.listenerCount=0}on(e,t,n,s={},o=null){if(!e||!t||!n)return console.warn("EventManager: Invalid parameters for on()"),null;const r="listener_"+ ++this.listenerCount,i={element:e,event:t,handler:n,options:s,componentId:o};return this.listeners.set(r,i),o&&(this.componentListeners.has(o)||this.componentListeners.set(o,new Set),this.componentListeners.get(o).add(r)),e.addEventListener(t,n,s),r}once(e,t,n,s=null){const o=e=>{n(e),this.off(r)},r=this.on(e,t,o,{once:!0},s);return r}off(e){const t=this.listeners.get(e);if(!t)return!1;const{element:n,event:s,handler:o,options:r,componentId:i}=t;try{n.removeEventListener(s,o,r)}catch(e){}return this.listeners.delete(e),i&&this.componentListeners.has(i)&&this.componentListeners.get(i).delete(e),!0}offComponent(e){const t=this.componentListeners.get(e);if(!t)return 0;let n=0;return t.forEach(e=>{this.off(e)&&n++}),this.componentListeners.delete(e),n}offElement(e){let t=0;return this.listeners.forEach((n,s)=>{n.element===e&&(this.off(s),t++)}),t}offAll(){let e=0;return this.listeners.forEach((t,n)=>{this.off(n),e++}),this.componentListeners.clear(),e}getListenerCount(e=null){return e?this.componentListeners.get(e)?.size||0:this.listeners.size}delegate(e,t,n,s,o=null){const r=t=>{const o=t.target.closest(n);o&&e.contains(o)&&s.call(o,t,o)};return this.on(e,t,r,{},o)}debounced(e,t,n,s=300,o=null){let r=null;const i=e=>{clearTimeout(r),r=setTimeout(()=>n(e),s)};return this.on(e,t,i,{},o)}throttled(e,t,n,s=100,o=null){let r=0;const i=e=>{const t=Date.now();t-r>=s&&(r=t,n(e))};return this.on(e,t,i,{},o)}}window.eventManager=new EventManager,window.addEventListener("beforeunload",()=>{if(window.eventManager){const e=window.eventManager.offAll();e>0&&console.log(`ğŸ§¹ EventManager: Cleaned up ${e} listeners on unload`)}}),console.log("âœ… Event Manager - Loaded");