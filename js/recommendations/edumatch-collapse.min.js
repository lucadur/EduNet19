"use strict";class EduMatchCollapseManager{constructor(){this.section=document.getElementById("eduMatchSection"),this.toggleBtn=document.getElementById("eduMatchToggle"),this.isCollapsed=!1,this.storageKey="eduMatchCollapsed",this.init()}init(){this.section&&this.toggleBtn?(this.restoreState(),this.setupEventListeners(),console.log("ðŸ”½ EduMatch Collapse Manager - Initialized")):console.warn("EduMatch collapse elements not found")}setupEventListeners(){this.toggleBtn.addEventListener("click",e=>{e.stopPropagation(),this.toggle()});const e=document.getElementById("eduMatchCollapseHeader");e&&e.addEventListener("click",()=>{this.toggle()});const t=document.getElementById("eduMatchMinimize");t&&t.addEventListener("click",e=>{e.stopPropagation(),this.collapse()}),this.toggleBtn.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.toggle())});const s=document.getElementById("eduMatchMinimize");s&&s.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.collapse())})}toggle(){this.isCollapsed?this.expand():this.collapse()}collapse(){this.section&&(this.section.classList.add("collapsed"),this.isCollapsed=!0,this.toggleBtn.setAttribute("aria-expanded","false"),this.saveState(),setTimeout(()=>{this.section.scrollIntoView({behavior:"smooth",block:"nearest"})},100))}expand(){this.section&&(this.section.classList.remove("collapsed"),this.isCollapsed=!1,this.toggleBtn.setAttribute("aria-expanded","true"),this.saveState())}saveState(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.isCollapsed))}catch(e){console.warn("Unable to save EduMatch collapse state:",e)}}restoreState(){try{const e=localStorage.getItem(this.storageKey);if(null!==e){const t=JSON.parse(e);t&&(this.section.classList.add("collapsed"),this.toggleBtn.setAttribute("aria-expanded","false"),this.isCollapsed=!0)}}catch(e){console.warn("Unable to restore EduMatch collapse state:",e)}}forceCollapse(){this.isCollapsed||this.collapse()}forceExpand(){this.isCollapsed&&this.expand()}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.eduMatchCollapseManager=new EduMatchCollapseManager}):window.eduMatchCollapseManager=new EduMatchCollapseManager,console.log("ðŸ”½ EduMatch Collapse - Script loaded successfully");